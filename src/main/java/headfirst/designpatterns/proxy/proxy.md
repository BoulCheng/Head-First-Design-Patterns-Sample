- 代理模式

- 控制和管理访问

- 所谓的代理，就是代理某个真实的对象

- 远程代理(RMI) (远程接口实现继承Remote接口) 代理模式的一种实现
    - 远程对象的本地代表
    - 远程对象是一种活在不同JVM堆中的对象
    - 本地代表是一种可以由本地方法调用的对象，其行为会转发到远程对象中
    
    
- 代理模式为另一个对象创建一个替身或占位符以及控制对这个对象的访问
    - 远程代理控制访问远程对象
    - 虚拟代理控制访问创建开销大的资源
    - 保护代理基于权限控制对资源的访问
    
- 保护代理(利用Java的动态代理创建)

- [动态代理](./javaproxy)：代理类是在运行时创建的 
    - InvocationHandler 实现代理的行为
    - 运行时才将代理类创建出来
    - 代理类继承了Proxy类并实现了代理的接口
    
    - 接口代理
    - 运行时动态生成该接口类对象，(即代理类)，该接口类对象实现了目标接口并继承了Proxy，如果已生成则直接从内存获取
    - 获得接口代理类构造器参数为 private static final Class<?>[] constructorParams = { InvocationHandler.class }; 的构造器
    - 通过该构造器根据 Proxy.newProxyInstance 传进来的InvocationHandler参数生成具体的代理类实例对象，即代理对象
    - 只会根据代理接口生成一个接口类对象(注意不是类的实例对象，也不是要生成的代理对象，而是代理类对象)
    - 会根据不同InvocationHandler接口的实现生成不同的具体代理类


- 静态代理
    - 需要编写代理类java文件
    - 代理对象和目标对象实现一样的接口
    - 可以在不修改目标对象的前提下扩张目标对象的功能
    
- vs 装饰器
    - 代理模式侧重于不能直接访问一个对象，只能通过代理来间接访问，编译器其实就已经确定了被代理对象和代理对象的关系
    - 装饰器模式是因为没法在编译器就确定一个对象的功能，需要运行时动态的给对象添加职责，所以只能把对象的功能拆成一一个个的小部分，动态组装
    